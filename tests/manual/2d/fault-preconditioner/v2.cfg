[pylithapp]
dump_parameters.filename = output/v2_twocells-parameters.json
problem.progress_monitor.filename = output/v2_twocells-progress.txt

# ----------------------------------------------------------------------
# journal
# ----------------------------------------------------------------------
[pylithapp.journal.info]
#timedependent = 1
#solution = 1
#petsc = 1
#meshio = 1
#isotropiclinearelasticity = 1
#dirichlettimedependent = 1
#faultcohesivekin = 1

[pylithapp.journal.debug]
#timedependent = 1
#solution = 1
#isotropiclinearelasticity = 1
#dirichlettimedependent = 1
#constraintspatialdb = 1
#faultcohesivekin = 1
#integratorinterface = 1
#kinsrcstep = 1
#outputphysics = 1
#outputsolndomain = 1

# ----------------------------------------------------------------------
# mesh_generator
# ----------------------------------------------------------------------
[pylithapp.mesh_generator]
reader = pylith.meshio.MeshIOAscii

[pylithapp.mesh_generator.reader]
filename = quad_twocells.mesh
coordsys.space_dim = 2

# ----------------------------------------------------------------------
# problem
# ----------------------------------------------------------------------
[pylithapp.problem]
dimension = 2

[pylithapp.problem.formulation.time_step]
total_time = 0.0*year
dt = 10.0*year

[pylithapp.problem.formulation]
solver = pylith.problems.SolverNonlinear
output = [domain]
output.domain.writer = pylith.meshio.DataWriterHDF5
output.domain.writer.filename = output/v2_twocells-domain.h5


# ----------------------------------------------------------------------
# materials
# ----------------------------------------------------------------------
[pylithapp.problem]
materials = [elastic]
materials.elastic = pylith.materials.ElasticPlaneStrain

[pylithapp.problem.materials.elastic]
label = Elastic material
id = 0

quadrature.cell = pylith.feassemble.FIATLagrange
quadrature.cell.dimension = 2

output.writer = pylith.meshio.DataWriterHDF5
output.writer.filename = output/v2_twocells-elastic.h5

db_properties = spatialdata.spatialdb.UniformDB
db_properties.label = Elastic properties
db_properties.values = [density, vs, vp]
db_properties.data = [2500*kg/m**3, 3.0*km/s, 5.2915026*km/s]


# ----------------------------------------------------------------------
# fault
# ----------------------------------------------------------------------
[pylithapp.problem]
interfaces = [fault]

[pylithapp.problem.interfaces.fault]
id = 10
label = fault

quadrature.cell = pylith.feassemble.FIATLagrange
quadrature.cell.dimension = 1

[pylithapp.problem.interfaces.fault.eq_srcs.rupture.slip_function]
slip = spatialdata.spatialdb.UniformDB
slip.label = Final slip
slip.values = [left-lateral-slip, fault-opening]
slip.data = [-2.0*m, 0.0*m] 

slip_time = spatialdata.spatialdb.UniformDB
slip_time.label  = Slip initiation time
slip_time.values = [slip-time]
slip_time.data = [0.0*year] 

[pylithapp.problem.interfaces.fault.output]
writer = pylith.meshio.DataWriterHDF5
writer.filename = output/v2_twocells-fault.h5
vertex_info_fields = [normal_dir, strike_dir, final_slip_rupture, slip_time_rupture]

# ----------------------------------------------------------------------
# boundary conditions
# ----------------------------------------------------------------------
[pylithapp.problem]
bc = [bc_xneg, bc_xpos]

[pylithapp.problem.bc.bc_xpos]
bc_dof = [0, 1]
label = bc_xpos
db_initial.label = Dirichlet BC +x edge
#db_auxiliary_field = spatialdata.spatialdb.UniformDB
#db_auxiliary_field.label = Dirichlet BC +x edge
#db_auxiliary_field.values = [initial_amplitude_x, initial_amplitude_y]
#db_auxiliary_field.data = [0.0*m, -1.0*m]

[pylithapp.problem.bc.bc_xneg]
bc_dof = [0, 1]
label = bc_xneg
db_initial.label = Dirichlet BC -x edge
#db_auxiliary_field = pylith.bc.ZeroDB
#db_auxiliary_field = spatialdata.spatialdb.UniformDB
#db_auxiliary_field.label = Dirichlet BC -x edge
#db_auxiliary_field.values = [initial_amplitude_x, initial_amplitude_y]
#db_auxiliary_field.data = [0.0*m, +1.0*m]

[pylithapp.petsc]
#mat_view = ::ascii_info_detail

# End of file
